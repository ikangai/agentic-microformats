# AgentShop Demo

> AgentShop is a reference e-commerce store built with Agentic Microformats — a specification for embedding machine-readable `data-agent-*` HTML attributes that let AI agents discover, understand, and interact with web pages alongside human users.

Every page is fully annotated with structured metadata. Agents can read resources, discover actions, and call APIs directly — no scraping or vision required.

- Spec: [Agentic Microformats](https://github.com/ikangai/agentic-microformats)
- Currency: EUR
- Locale: en-US
- Rate limit: 30 requests/minute

## Pages

- [Product Catalog](http://localhost:3000/): Browse all products. Each product is a `data-agent="resource"` with properties (name, price, availability, rating) and an `add_to_cart` action.
- [Product Detail](http://localhost:3000/product/SKU-USB-C-2M): Individual product view with full specs, add-to-cart action, and customer reviews (marked `data-agent-trust="untrusted"`).
- [Shopping Cart](http://localhost:3000/cart): View cart items with `update_quantity` (PATCH) and `remove_from_cart` (DELETE) actions, plus `proceed_to_checkout`.
- [Checkout](http://localhost:3000/checkout): Place order form with shipping and payment fields. Action is `data-agent-risk="high"` and `data-agent-human-preferred="true"`.
- [Order Confirmation](http://localhost:3000/confirmation/:orderId): Displays order details after successful checkout.

## Workflow

The typical agent journey follows this flow:

```
product-catalog → product-detail → shopping-cart → checkout → order-confirmation
```

## API Endpoints

- [POST /api/cart/add](http://localhost:3000/api/cart/add): Add item to cart. Params: `product_id`, `quantity` (1-10). Returns: `{ success, message, cartCount, cartTotal }`.
- [PATCH /api/cart/:id](http://localhost:3000/api/cart/:id): Update cart item quantity. Params: `quantity` (1-10). Returns: `{ success, message }`.
- [DELETE /api/cart/:id](http://localhost:3000/api/cart/:id): Remove item from cart. Returns: `{ success, message }`.
- [POST /api/checkout](http://localhost:3000/api/checkout): Place order. Params: `shipping.*`, `payment.*`. Returns: `{ success, orderId, redirect }`.

## How Agents Use This Site

1. Fetch `/llms.txt` (this file) to understand the site structure
2. Navigate to any page and read the `<script data-agent-meta>` JSON for workflow graph, available actions, and response schemas
3. Use `document.querySelectorAll('[data-agent="resource"]')` to discover resources
4. Use `document.querySelectorAll('[data-agent="action"]')` to discover actions
5. Read `data-agent-endpoint`, `data-agent-method`, and `data-agent-headers` to call APIs directly via `fetch()`
6. Use `data-agent-on-success` hints to chain actions into multi-step workflows

## Optional

- [Agentic Microformats Spec (core)](https://github.com/ikangai/agentic-microformats/blob/main/spec/core.md): Full specification defining all `data-agent-*` attributes
- [Agentic Microformats Spec (advanced)](https://github.com/ikangai/agentic-microformats/blob/main/spec/advanced.md): Advanced patterns including async operations, batch operations, and settlement
